<p class="mt-3">Search for items to receive and set their new status:</p>

<div id="receiving-item-container">
    {% for item in items %}
    <div class="row mb-2 align-items-center">
        <div class="col-md-6">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="selected_items" value="{{ item.id }}"
                    id="receiving_item_{{ item.id }}">
                <label class="form-check-label" for="receiving_item_{{ item.id }}">
                    {{ item.serial_number }} - ({{ item.category.name }})
                </label>
            </div>
        </div>
        <div class="col-md-6">
            <!-- 
                  CRUCIAL CHANGE: The 'name' attribute is now dynamic.
                  It will be sent as 'new_status_101', 'new_status_102', etc.,
                  where 101 and 102 are the item IDs.
                -->
            <select class="form-select form-select-sm" name="new_status_{{ item.id }}">
                <option value="available" selected>Available</option>
                <option value="re-cut">Re-cut</option>
                <option value="lih-dbr">LIH-DBR</option>
            </select>
        </div>
    </div>
    {% empty %}
    <p class="text-muted">No items are currently on job to receive.</p>
    {% endfor %}
</div>

